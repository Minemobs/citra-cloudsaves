<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Citra CloudSaves is a service to host your game saves on a server a restore them later on an other device. This is not affiliated with Citra" />
        <title>Citra CloudSaves</title>
        <link
            rel="stylesheet"
            type="text/css"
            media="screen"
            href="style.css" />
        <script src="main.js" defer></script>
    </head>

    <body>
        <div class="flex h-screen min-h-screen flex-col">
            <header
                class="flex flex-row items-start justify-evenly rounded-b-lg bg-indigo-500 p-4 shadow-sm">
                <div class="mr-auto"></div>
                <h1 class="ml-auto mr-auto select-none text-center text-lg">
                    Citra CloudSaves
                </h1>
                <p
                    class="ml-auto select-none self-start text-center"
                    onclick="loginClicked(false)">
                    Login
                </p>
            </header>
            <div class="flex flex-grow items-center justify-center">
                <div
                    id="token-div"
                    class="flex flex-1 items-center justify-center"
                    style="display: none">
                    <p class="ml-5 text-center text-black">Token:</p>
                    <div
                        class="ml-4 mr-10 rounded-md bg-slate-100 p-2 blur-md drop-shadow-md transition-all hover:blur-none">
                        <span class="break-all text-black" id="token"></span>
                    </div>
                </div>
                <dialog
                    id="login"
                    class="rounded-md bg-indigo-500 p-5 shadow-sm backdrop-blur-0">
                    <div>
                        <p class="select-none pb-3 text-center text-3xl">
                            Login
                        </p>
                        <div class="rounded-md bg-indigo-400 p-2 mb-4 shadow-sm justify-center items-center" style="display: none">
                            <span class="text-center text-xl text-red-400"></span>
                        </div>
                        <form
                            class="box-border rounded-lg w-[100%] flex flex-col gap-5"
                            onsubmit="onSubmit(event); return false">
                            <div>
                                <label for="username"> Username </label>
                                <input
                                    name="username"
                                    required
                                    minlength="4"
                                    type="text"
                                    pattern="[a-zA-Z_\-][\w\-]{3,20}" />
                            </div>
                            <div>
                                <label for="password"> Password </label>
                                <input
                                    name="password"
                                    required
                                    minlength="8"
                                    maxlength="20"
                                    title="Enter a password of 8-20 characters (letters, digits, @,$,!,%)"
                                    type="password"
                                    pattern="[a-zA-Z0-9@$!%]{8,20}" />
                            </div>
                            <div class="no-account flex flex-row">
                                <div class="flex-1"></div>
                                <button
                                    class="flex-0"
                                    type="button"
                                    onclick="document.getElementById('login').close(); loginClicked(true)">
                                    No account ?
                                </button>
                                <div class="flex-1"></div>
                            </div>
                            <input
                                type="submit"
                                class="mt-3 w-full rounded-md bg-indigo-400 p-3 text-white shadow-md shadow-indigo-500 hover:shadow-xl hover:shadow-indigo-600"
                                id="LoginButton" />
                        </form>
                    </div>
                </dialog>
            </div>
            <footer
                class="flex flex-row place-items-center justify-items-center rounded-t-lg bg-indigo-500 p-4 shadow-sm">
                <p class="select-none pe-8">
                    Â© 2023 <a href="https://github.com/minemobs" class="pl-2">minemobs.</a>
                </p>
                <p class="ml-auto select-none text-left">
                    Not endorsed by Citra
                </p>
            </footer>
        </div>
    </body>
</html>
